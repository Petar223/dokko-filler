"use strict";(self.webpackChunkdokko_filler=self.webpackChunkdokko_filler||[]).push([[5366],{44780:(e,n,t)=>{t.d(n,{o:()=>i});var a=t(64424),o=t(1478),s=t(55444);const i=({region:e})=>({url:new o.o(`https://${s.M}.${e}.${(0,a.R)(e)}`)})},55444:(e,n,t)=>{t.d(n,{M:()=>a});const a="cognito-idp"},10577:(e,n,t)=>{t.d(n,{E:()=>o});var a=t(72065);const o=e=>a.Y.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0})},91311:(e,n,t)=>{t.d(n,{e:()=>o});var a=t(57975);const o=e=>Uint8Array.from(a.m.convert(e,{urlSafe:!0}),(e=>e.charCodeAt(0))).buffer},24988:(e,n,t)=>{t.d(n,{C:()=>r});var a=t(68463),o=t(53553),s=t(23e3),i=t(5481);const r={service:t(55444).M,retryDecider:(0,a.D)(o.F),computeDelay:s.y,userAgentValue:(0,i.fE)(),cache:"no-store"}},74896:(e,n,t)=>{t.d(n,{i:()=>c});var a=t(87592),o=t(53603),s=t(87660),i=t(25789),r=t(24988);const c=e=>(0,a.A)(o.e,(0,s._)("AssociateSoftwareToken"),(0,i.T)(),{...r.C,...e})},15432:(e,n,t)=>{t.d(n,{w:()=>c});var a=t(87592),o=t(53603),s=t(87660),i=t(25789),r=t(24988);const c=e=>(0,a.A)(o.e,(0,s._)("ConfirmDevice"),(0,i.T)(),{...r.C,...e})},23095:(e,n,t)=>{t.d(n,{R:()=>c});var a=t(87592),o=t(87660),s=t(25789),i=t(53603),r=t(24988);const c=e=>(0,a.A)(i.e,(0,o._)("InitiateAuth"),(0,s.T)(),{...r.C,...e})},62805:(e,n,t)=>{t.d(n,{H:()=>c});var a=t(87592),o=t(53603),s=t(87660),i=t(25789),r=t(24988);const c=e=>(0,a.A)(o.e,(0,s._)("RespondToAuthChallenge"),(0,i.T)(),{...r.C,...e})},53603:(e,n,t)=>{t.d(n,{e:()=>s});var a=t(98306),o=t(92985);const s=(0,a.q)(o.F,[()=>(e,n)=>async function(n){return n.headers["cache-control"]="no-store",e(n)}])},25789:(e,n,t)=>{t.d(n,{T:()=>i});var a=t(53553),o=t(20434),s=t(35781);const i=()=>async e=>{if(e.statusCode>=300){const n=await(0,a.F)(e);throw(0,o.e)(n),new s.l({name:n.name,message:n.message})}return(0,a.Y)(e)}},87660:(e,n,t)=>{t.d(n,{_:()=>a});const a=e=>(n,t)=>{const a=o(e),i=JSON.stringify(n);return s(t,a,i)},o=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),s=({url:e},n,t)=>({headers:n,url:e,body:t,method:"POST"})},36118:(e,n,t)=>{t.d(n,{C:()=>s,J:()=>o});var a=t(35781);function o(e){const n=e?.split("_")[0];if(!e||e.indexOf("_")<0||!n||"string"!=typeof n)throw new a.l({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return n}function s(e){if(!e||!e.includes(":"))throw new a.l({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}},6369:(e,n,t)=>{t.d(n,{K$:()=>c,xO:()=>l});var a=t(1099),o=t(35781),s=t(80602);const i=async()=>{throw new o.l({name:s.A0,message:"The autoSignIn flow has not started, or has been cancelled/completed.",recoverySuggestion:"Please try to use the signIn API or log out before starting a new autoSignIn flow."})};let r=null;function c(e){r=e}function l(e=!0){e&&(r=i),a.z.dispatch({type:"RESET"})}},11015:(e,n,t)=>{t.d(n,{H:()=>i});var a=t(20126),o=t(57675),s=t(73917);const i=async()=>(async e=>{const n=e.getConfig().Auth?.Cognito;(0,o.$y)(n);const t=await e.Auth.getTokens({forceRefresh:!1});(0,s.H0)(t);const{"cognito:username":a,sub:i}=t.idToken?.payload??{},r={username:a,userId:i},c=function(e){return e?.signInDetails}(t);return c&&(r.signInDetails=c),r})(a.H)},48393:(e,n,t)=>{t.d(n,{J:()=>w});var a=t(21859),o=t(20126),s=t(57675),i=t(88e3),r=t(75284),c=t(20434),l=t(59948),u=t(91401),d=t(36021),g=t(75446);var p=t(6369);async function m(e){const{username:n,password:t}=e,m=o.H.getConfig().Auth?.Cognito,h={loginId:n,authFlowType:"USER_SRP_AUTH"};(0,s.$y)(m);const w=e.options?.clientMetadata;(0,r.M)(!!n,i.P.EmptySignInUsername),(0,r.M)(!!t,i.P.EmptySignInPassword);try{const{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:s,Session:i}=await(0,a.Zw)(n,t,w,m,d.o),r=(0,a.ni)(n);return(0,l.wr)({signInSession:i,username:r,challengeName:e,signInDetails:h}),s?(await(0,u.i)({username:r,...s,NewDeviceMetadata:await(0,a.iG)({userPoolId:m.userPoolId,userPoolEndpoint:m.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:h}),(0,l.jN)(),await(0,g.Q)(),(0,p.xO)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,a.q2)({challengeName:e,challengeParameters:o})}catch(e){(0,l.jN)(),(0,p.xO)(),(0,c.e)(e);const n=(0,a.m$)(e.name);if(n)return n;throw e}}var h=t(35031);async function w(e){(0,p.xO)(!1);const n=e.options?.authFlowType;switch(await(0,a.AR)(),n){case"USER_SRP_AUTH":default:return m(e);case"USER_PASSWORD_AUTH":return async function(e){const{username:n,password:t,options:m}=e,h=o.H.getConfig().Auth?.Cognito,w={loginId:n,authFlowType:"USER_PASSWORD_AUTH"};(0,s.$y)(h);const S=m?.clientMetadata;(0,r.M)(!!n,i.P.EmptySignInUsername),(0,r.M)(!!t,i.P.EmptySignInPassword);try{const{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:s,Session:i}=await(0,a.iI)(a.h5,[n,t,S,h,d.o],n,d.o),r=(0,a.ni)(n);return(0,l.wr)({signInSession:i,username:r,challengeName:e,signInDetails:w}),s?(await(0,u.i)({...s,username:r,NewDeviceMetadata:await(0,a.iG)({userPoolId:h.userPoolId,userPoolEndpoint:h.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:w}),(0,l.jN)(),await(0,g.Q)(),(0,p.xO)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,a.q2)({challengeName:e,challengeParameters:o})}catch(e){(0,l.jN)(),(0,p.xO)(),(0,c.e)(e);const n=(0,a.m$)(e.name);if(n)return n;throw e}}(e);case"CUSTOM_WITHOUT_SRP":return async function(e){const n=o.H.getConfig().Auth?.Cognito;(0,s.$y)(n);const{username:t,password:p,options:m}=e,h={loginId:t,authFlowType:"CUSTOM_WITHOUT_SRP"},w=m?.clientMetadata;(0,r.M)(!!t,i.P.EmptySignInUsername),(0,r.M)(!p,i.P.CustomAuthSignInPassword);try{const{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:s,Session:i}=await(0,a.iI)(a.ty,[t,w,n,d.o],t,d.o),r=(0,a.ni)(t);return(0,l.wr)({signInSession:i,username:r,challengeName:e,signInDetails:h}),s?(await(0,u.i)({username:r,...s,NewDeviceMetadata:await(0,a.iG)({userPoolId:n.userPoolId,userPoolEndpoint:n.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:h}),(0,l.jN)(),await(0,g.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,a.q2)({challengeName:e,challengeParameters:o})}catch(e){(0,l.jN)(),(0,c.e)(e);const n=(0,a.m$)(e.name);if(n)return n;throw e}}(e);case"CUSTOM_WITH_SRP":return async function(e){const{username:n,password:t,options:p}=e,m={loginId:n,authFlowType:"CUSTOM_WITH_SRP"},h=o.H.getConfig().Auth?.Cognito;(0,s.$y)(h);const w=p?.clientMetadata;(0,r.M)(!!n,i.P.EmptySignInUsername),(0,r.M)(!!t,i.P.EmptySignInPassword);try{const{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:s,Session:i}=await(0,a.tE)(n,t,w,h,d.o),r=(0,a.ni)(n);return(0,l.wr)({signInSession:i,username:r,challengeName:e,signInDetails:m}),s?(await(0,u.i)({username:r,...s,NewDeviceMetadata:await(0,a.iG)({userPoolId:h.userPoolId,userPoolEndpoint:h.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:m}),(0,l.jN)(),await(0,g.Q)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,a.q2)({challengeName:e,challengeParameters:o})}catch(e){(0,l.jN)(),(0,c.e)(e);const n=(0,a.m$)(e.name);if(n)return n;throw e}}(e);case"USER_AUTH":return(0,h.k)(e)}}},35031:(e,n,t)=>{t.d(n,{k:()=>w});var a=t(20126),o=t(57675),s=t(88e3),i=t(75284),r=t(20434),c=t(21859),l=t(1099),u=t(59948),d=t(91401),g=t(75446),p=t(36021),m=t(53548),h=t(6369);async function w(e){const{username:n,password:t,options:w}=e,S=a.H.getConfig().Auth?.Cognito,I={loginId:n,authFlowType:"USER_AUTH"};(0,o.$y)(S);const v=w?.clientMetadata,y=w?.preferredChallenge;(0,i.M)(!!n,s.P.EmptySignInUsername);try{const e={username:n,config:S,tokenOrchestrator:p.o,clientMetadata:v,preferredChallenge:y,password:t},a=l.z.getState();a.active&&a.username===n&&(e.session=a.session);const o=await(0,m.c)(e),s=(0,c.ni)(n);return(0,u.wr)({signInSession:o.Session,username:s,challengeName:o.ChallengeName,signInDetails:I}),o.AuthenticationResult?(await(0,d.i)({username:s,...o.AuthenticationResult,NewDeviceMetadata:await(0,c.iG)({userPoolId:S.userPoolId,userPoolEndpoint:S.userPoolEndpoint,newDeviceMetadata:o.AuthenticationResult.NewDeviceMetadata,accessToken:o.AuthenticationResult.AccessToken}),signInDetails:I}),(0,u.jN)(),await(0,g.Q)(),(0,h.xO)(),{isSignedIn:!0,nextStep:{signInStep:"DONE"}}):(0,c.q2)({challengeName:o.ChallengeName,challengeParameters:o.ChallengeParameters,availableChallenges:"AvailableChallenges"in o?o.AvailableChallenges:void 0})}catch(e){(0,u.jN)(),(0,h.xO)(),(0,r.e)(e);const n=(0,c.m$)(e.name);if(n)return n;throw e}}},61714:(e,n,t)=>{t.d(n,{C:()=>U});var a=t(84210),o=t(20126),s=t(10612),i=t(42953),r=t(26886),c=t(57675),l=t(31317),u=t(29856),d=t(35781),g=t(43647),p=t(36021),m=t(36118),h=t(73917),w=(t(13504),t(46718)),S=t(80602),I=t(87592),v=t(53603),y=t(87660),P=t(25789),C=t(24988);const A=e=>(0,I.A)(v.e,(0,y._)("RevokeToken"),(0,P.T)(),{...C.C,...e}),f=e=>(0,I.A)(v.e,(0,y._)("GlobalSignOut"),(0,P.T)(),{...C.C,...e});var T=t(73696);const M=new a.C("Auth");async function U(e){const n=o.H.getConfig().Auth?.Cognito;let t;(0,c.$y)(n),e?.global?await async function(e){try{const{userPoolEndpoint:n,userPoolId:t}=e,a=await p.o.getTokenStore().loadTokens();(0,h.H0)(a);const o=f({endpointResolver:(0,T.o)({endpointOverride:n})});await o({region:(0,m.J)(t),userAgentValue:(0,u.A)(l.BM.SignOut)},{AccessToken:a.accessToken.toString()})}catch(e){M.debug("Global signOut error caught but will proceed with token removal")}}(n):await async function(e){try{const{userPoolEndpoint:n,userPoolId:t,userPoolClientId:a}=e,o=await p.o.getTokenStore().loadTokens();if((0,h.X4)(o),N(o.accessToken)){const e=A({endpointResolver:(0,T.o)({endpointOverride:n})});await e({region:(0,m.J)(t),userAgentValue:(0,u.A)(l.BM.SignOut)},{ClientId:a,Token:o.refreshToken})}}catch(e){M.debug("Client signOut error caught but will proceed with token removal")}}(n);try{(0,c.G6)(n),t=!0}catch(e){t=!1}if(t){const t=new g.S(s.ZL);t.setAuthConfig(n);const{type:a}=await(0,w.x)(n,t,p.o,e?.oauth?.redirectUrl)??{};if("error"===a)throw new d.l({name:S.mh,message:"An error occurred when attempting to log out from OAuth provider."})}else p.o.clearTokens(),await(0,i.s)(),r.YZ.dispatch("auth",{event:"signedOut"},"Auth",r.U9)}const N=e=>!!e?.payload?.origin_jti},50831:(e,n,t)=>{t.d(n,{H:()=>M});var a=t(20126),o=t(57675),s=t(31317),i=t(75284),r=t(88e3),c=t(36118),l=t(78741),u=t(17409),d=t(77232),g=t(29856),p=t(87592),m=t(53553),h=t(21899),w=t(35781),S=t(20434),I=t(30831),v=t(87660),y=t(53603),P=t(24988);const C=e=>(0,p.A)(y.e,(0,v._)("SignUp"),(async e=>{if(e.statusCode>=300){const n=await(0,m.F)(e);if((0,S.e)(n),n.name===I.AU.InvalidParameterException&&/'password'/.test(n.message)&&/Member must not be null/.test(n.message)){const e=r.P.EmptySignUpPassword,{message:n,recoverySuggestion:t}=h.ut[e];throw new w.l({name:e,message:n,recoverySuggestion:t})}throw new w.l({name:n.name,message:n.message})}return(0,m.Y)(e)}),{...P.C,...e});var A=t(73696),f=t(1099),T=t(6369);async function M(e){const{username:n,password:t,options:p}=e,m=a.H.getConfig().Auth?.Cognito,h=m?.signUpVerificationMethod??"code",{clientMetadata:w,validationData:S,autoSignIn:I}=e.options??{};(0,o.$y)(m),(0,i.M)(!!n,r.P.EmptySignUpUsername);const v="boolean"!=typeof I?I:void 0,y={username:n,options:v};"CUSTOM_WITHOUT_SRP"!==v?.authFlowType&&(y.password=t);const{userPoolId:P,userPoolClientId:M,userPoolEndpoint:U}=m,N=C({endpointResolver:(0,A.o)({endpointOverride:U})}),E={Username:n,Password:void 0,UserAttributes:p?.userAttributes&&(0,l.Q)(p?.userAttributes),ClientMetadata:w,ValidationData:S&&(0,l.Q)(S),ClientId:M,UserContextData:(0,d.d)({username:n,userPoolId:P,userPoolClientId:M})};t&&(E.Password=t);const{UserSub:D,CodeDeliveryDetails:O,UserConfirmed:_,Session:k}=await N({region:(0,c.J)(P),userAgentValue:(0,g.A)(s.BM.SignUp)},E);(v||!0===I)&&(f.z.dispatch({type:"START"}),f.z.dispatch({type:"SET_USERNAME",value:n}),f.z.dispatch({type:"SET_SESSION",value:k}));const R={destination:O?.Destination,deliveryMedium:O?.DeliveryMedium,attributeName:O?.AttributeName},b=!!_,x=f.z.getState().active;if(b)return x?((0,T.K$)((0,u.MT)(y)),{isSignUpComplete:!0,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN"},userId:D}):{isSignUpComplete:!0,nextStep:{signUpStep:"DONE"},userId:D};if(x){if("link"===h)return(0,T.K$)((0,u.kL)(y)),{isSignUpComplete:!1,nextStep:{signUpStep:"COMPLETE_AUTO_SIGN_IN",codeDeliveryDetails:R},userId:D};(0,u.FR)(y)}return{isSignUpComplete:!1,nextStep:{signUpStep:"CONFIRM_SIGN_UP",codeDeliveryDetails:R},userId:D}}}}]);