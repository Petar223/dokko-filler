"use strict";(self.webpackChunkdokko_filler=self.webpackChunkdokko_filler||[]).push([[5347],{54759:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(64467),o=n(10467),a=n(54756),i=n.n(a),c=n(66461),s=n(53029);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=c.A.create({baseURL:"https://r5knef0j60.execute-api.eu-south-1.amazonaws.com/prod/",headers:{"Content-Type":"application/json"}});d.interceptors.request.use(function(){var e=(0,o.A)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,s.Zv)();case 3:(n=e.sent)&&(t.headers.Authorization="".concat(n)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){return e}),(function(e){if(!e.response)return e.request?Promise.reject(u(u({},e),{},{message:"No response received from the server."})):Promise.reject(u(u({},e),{},{message:"Error setting up the request: "+e.message}));var t=e.response.status;switch(t){case 400:return Promise.reject(u(u({},e),{},{message:"Bad Request (400): Please check your input."}));case 401:return Promise.reject(u(u({},e),{},{message:"Unauthorized (401): Your session has expired. Please login again."}));case 403:return Promise.reject(u(u({},e),{},{message:"Forbidden (403): You do not have permission to access this resource."}));case 404:return Promise.reject(u(u({},e),{},{message:"Not Found (404): The requested resource was not found."}));case 500:return Promise.reject(u(u({},e),{},{message:"Internal Server Error (500): Something went wrong on the server."}));case 502:return Promise.reject(u(u({},e),{},{message:"Bad Gateway (502): Invalid response from the upstream server."}));case 503:return Promise.reject(u(u({},e),{},{message:"Service Unavailable (503): The server is temporarily unavailable."}));case 504:return Promise.reject(u(u({},e),{},{message:"Gateway Timeout (504): The server took too long to respond."}));default:return Promise.reject(u(u({},e),{},{message:"Unexpected error occurred. Status: ".concat(t)}))}}));const p=d},40916:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(10467),o=n(80296),a=n(54756),i=n.n(a),c=n(96540);const s=function(e){var t=(0,c.useState)(null),n=(0,o.A)(t,2),a=n[0],s=n[1],l=(0,c.useState)(!0),u=(0,o.A)(l,2),d=u[0],p=u[1],m=(0,c.useState)(null),f=(0,o.A)(m,2),h=f[0],x=f[1],g=(0,c.useCallback)((0,r.A)(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),x(null),t.prev=2,t.next=5,e();case 5:n=t.sent,s(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),x(t.t0);case 12:return t.prev=12,p(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])}))),[e]);return(0,c.useEffect)((function(){g()}),[g]),{data:a,loading:d,error:h,setData:s}}},5347:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Le});var r=n(64467),o=n(80296),a=n(96540),i=n(19536),c=n(38267),s={licna_karta:["PersonalNumber","DocumentNumber","Place","GivenName","Surname","DateOfBirth","PlaceOfBirth","Street","AddressNumber","Sex"],saobracajna_dozvola:["RegistrationNumberOfVehicle","VehicleCategory","VehicleMake","CommercialDescription","YearOfProduction","EngineCapacity","OwnersSurnameOrBusinessName","OwnerName","OwnerAddress"]},l=n(10467),u=n(54756),d=n.n(u),p=n(54759),m=function(){var e=(0,l.A)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.A.get("/document?id="+t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const f=m;function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=n(66461).A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});g.interceptors.response.use((function(e){return e}),(function(e){if(!e)return e.request?Promise.reject(x(x({},e),{},{message:"No response from the Reader ID server.",status:0})):Promise.reject(x(x({},e),{},{message:"Error setting up the request: "+e.message}));var t=e.response.status;switch(t){case 400:return Promise.reject(x(x({},e),{},{message:"Reader ID Bad Request (400): Please check your input."}));case 404:return Promise.reject(x(x({},e),{},{message:"Reader ID Not Found (404): Resource not found."}));default:return Promise.reject(x(x({},e),{},{message:"Reader ID Error occurred. Status: ".concat(t)}))}}));const y=g;var v=function(){var e=(0,l.A)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/read");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const b=v;var j=n(45458),w=n(73357),k=n(70306),C=function(){var e=(0,l.A)(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.A.post("/case",t);case 2:return n=e.sent,e.abrupt("return",(0,r.A)({},t.originalPlaceholder,n.data.body));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const A=C;var _=n(81863),O=n(74848),N=c.Ay.div.withConfig({displayName:"DocumentModal__ModalOverlay",componentId:"sc-18cmrdq-0"})(["position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;z-index:1000;"]),P=c.Ay.div.withConfig({displayName:"DocumentModal__ModalContent",componentId:"sc-18cmrdq-1"})(["background-color:",";padding:20px;border-radius:10px;box-shadow:0 2px 15px rgba(0,0,0,0.3);width:90%;max-width:900px;max-height:95%;display:flex;flex-direction:column;align-items:center;"],(function(e){return e.theme.palette.background.paper})),D=c.Ay.div.withConfig({displayName:"DocumentModal__ButtonRow",componentId:"sc-18cmrdq-2"})(["display:flex;justify-content:space-between;width:100%;margin-bottom:20px;"]),I=c.Ay.button.withConfig({displayName:"DocumentModal__CloseButton",componentId:"sc-18cmrdq-3"})(["padding:10px 20px;background-color:",";color:",";border:none;border-radius:5px;cursor:pointer;font-size:14px;&:hover{background-color:",";}"],(function(e){return e.theme.palette.red.main}),(function(e){return e.theme.palette.red.contrastText}),(function(e){return e.theme.palette.red.dark})),S=c.Ay.button.withConfig({displayName:"DocumentModal__SaveButton",componentId:"sc-18cmrdq-4"})(["padding:10px 20px;background-color:",";color:",";border:none;border-radius:5px;cursor:pointer;font-size:14px;display:flex;align-items:center;gap:8px;&:hover{background-color:",";}"],(function(e){return e.theme.palette.businessBlue.main}),(function(e){return e.theme.palette.businessBlue.contrastText}),(function(e){return e.theme.palette.businessBlue.dark})),q=(0,c.Ay)(_.C).withConfig({displayName:"DocumentModal__StyledDownloadToStorageIcon",componentId:"sc-18cmrdq-5"})(["width:16px;height:16px;fill:",";"],(function(e){return e.theme.palette.businessBlue.contrastText})),z=c.Ay.div.withConfig({displayName:"DocumentModal__ScrollContainer",componentId:"sc-18cmrdq-6"})(["width:100%;max-height:100%;overflow-y:auto;display:flex;justify-content:center;"]),B=c.Ay.div.withConfig({displayName:"DocumentModal__A4Paper",componentId:"sc-18cmrdq-7"})(["width:595px;height:100%;background-color:",";border:1px solid ",";padding:40px;box-shadow:0 0 10px rgba(0,0,0,0.1);margin-bottom:20px;"],(function(e){return e.theme.palette.background.white}),(function(e){return e.theme.palette.grey[400]})),T=c.Ay.div.withConfig({displayName:"DocumentModal__WordStyledContent",componentId:"sc-18cmrdq-8"})(['font-family:"Times New Roman",Times,serif;font-size:9pt;line-height:1.5;color:',";text-align:center;width:100%;white-space:pre-wrap;word-wrap:break-word;p{margin:0 0 1em;}strong{font-weight:bold;}em{font-style:italic;}ul{padding-left:20px;margin:0 0 1em;li{margin-bottom:0.5em;}}"],(function(e){return e.theme.palette.text.primary})),R=c.Ay.div.withConfig({displayName:"DocumentModal__InfoMessage",componentId:"sc-18cmrdq-9"})(["font-size:14px;color:",";background-color:",";padding:12px 16px;margin-bottom:20px;text-align:center;display:flex;align-items:center;gap:12px;box-shadow:0 2px 6px rgba(0,0,0,0.1);width:100%;"],(function(e){return e.theme.palette.warn.contrastText}),(function(e){return e.theme.palette.warn.main})),M=(0,c.Ay)(_.C$).withConfig({displayName:"DocumentModal__StyledInfoCircleIcon",componentId:"sc-18cmrdq-10"})(["width:28px;height:28px;fill:",";"],(function(e){return e.theme.palette.warn.contrastText}));const E=function(e){var t=e.docContent,n=e.handleDownload,r=e.closeModal;return(0,O.jsx)(N,{onClick:r,children:(0,O.jsxs)(P,{onClick:function(e){return e.stopPropagation()},children:[(0,O.jsxs)(D,{children:[(0,O.jsx)(I,{onClick:r,children:"Zatvori"}),(0,O.jsxs)(S,{onClick:n,children:[(0,O.jsx)(q,{}),"Sačuvaj dokument"]})]}),(0,O.jsxs)(R,{children:[(0,O.jsx)(M,{}),"Ovaj pregled dokumenta ne prikazuje konačan izgled. Preuzeti dokument će biti ispravno formatiran i stilizovan."]}),(0,O.jsx)(z,{children:(0,O.jsx)(B,{children:(0,O.jsx)(T,{dangerouslySetInnerHTML:{__html:t}})})})]})})};var G=n(5904),V=n(59428),L=n(42868),U=["name","Street","Place","GivenName","Surname","ParentGivenName","PlaceOfBirth","CommunityOfBirth","StateOfBirth","Community"],F=function(e,t,n){var r=e.split("_")[0];return n.includes(r)?H(t):t},H=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").map((function(e){var t,n,r,o;return e.startsWith("'")?"'".concat(null===(t=e[1])||void 0===t?void 0:t.toUpperCase()).concat(null==e||null===(n=e.slice(2))||void 0===n?void 0:n.toLowerCase()):"".concat(null===(r=e[0])||void 0===r?void 0:r.toUpperCase()).concat(null==e||null===(o=e.slice(1))||void 0===o?void 0:o.toLowerCase())})).join(" ")},Y=function(){var e=(0,l.A)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.keys(n).reduce((function(e,t){var r=F(t,n[t],U);return e[t]={type:V.JG3.PARAGRAPH,children:[new V.NTc({text:r,underline:{type:"single"}})]},e}),{}),e.next=3,(0,V.Som)(t,{patches:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(e,t){var n=Object.entries(e).reduce((function(e,n){var r=(0,o.A)(n,2),a=r[0],i=r[1];return e[a]="string"==typeof i?1===t?(0,L.cyrilicToLatin)(i):(0,L.latinToCyrilic)(i):i,e}),{});return n.name_1="".concat(n.GivenName_1," ").concat(n.Surname_1),n.name_2="".concat(n.GivenName_2," ").concat(n.Surname_2),n.date=(new Date).toLocaleDateString("sr-RS",{day:"2-digit",month:"2-digit",year:"numeric"}),n},Z=function(e,t){return(0,j.A)(e.matchAll(/{{(\w+)_p([1-7])_(\d+)}}/g)).map((function(e){return{noun:t["".concat(e[1],"_").concat(e[3])],case:"p".concat(e[2]),apikey:"blokbrateblokbruklinbato",originalPlaceholder:"".concat(e[1],"_p").concat(e[2],"_").concat(e[3])}}))};function J(){return(J=(0,l.A)(d().mark((function e(t,n){var r,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=document.createElement("a")).setAttribute("download",n),o=URL.createObjectURL(t),r.href=o,r.setAttribute("target","_blank"),r.click(),URL.revokeObjectURL(o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return(X=(0,l.A)(d().mark((function e(t){var n,r,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.blob();case 5:return r=e.sent,e.next=8,r.arrayBuffer();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=c.Ay.div.withConfig({displayName:"DocumentGenerator__ButtonContainer",componentId:"sc-182qriu-0"})(["display:flex;gap:10px;"]),te=c.Ay.button.withConfig({displayName:"DocumentGenerator__Button",componentId:"sc-182qriu-1"})(["padding:10px 20px;background-color:",";color:",";border:none;border-radius:5px;cursor:pointer;font-size:16px;width:250px;display:flex;align-items:center;justify-content:center;gap:8px;&:hover{background-color:",";}"],(function(e){return e.theme.palette.primary.main}),(function(e){return e.theme.palette.primary.contrastText}),(function(e){return e.theme.palette.primary.dark})),ne=c.Ay.button.withConfig({displayName:"DocumentGenerator__BackButton",componentId:"sc-182qriu-2"})(["padding:10px 20px;background-color:",";color:",";border:none;border-radius:5px;cursor:pointer;font-size:16px;width:150px;display:flex;align-items:center;justify-content:center;gap:8px;&:hover{background-color:",";}"],(function(e){return e.theme.palette.grey[700]}),(function(e){return e.theme.palette.primary.contrastText}),(function(e){return e.theme.palette.primary.dark})),re=(0,c.Ay)(_.zc).withConfig({displayName:"DocumentGenerator__StyledOverviewIcon",componentId:"sc-182qriu-3"})(["width:24px;height:24px;fill:",";"],(function(e){return e.theme.palette.primary.contrastText}));const oe=function(e){var t=e.templateURL,n=e.readFields,r=e.letterType,c=e.documentName,s=(0,a.useState)(""),u=(0,o.A)(s,2),p=u[0],m=u[1],f=(0,a.useState)(!1),h=(0,o.A)(f,2),x=h[0],g=h[1],y=(0,a.useState)(null),v=(0,o.A)(y,2),b=v[0],C=v[1],_=(0,a.useState)(!1),N=(0,o.A)(_,2),P=N[0],D=N[1],I=(0,G.h)(),S=(0,i.Zp)(),q=function(){var e=(0,l.A)(d().mark((function e(t){var n,r,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t);case 2:return n=e.sent,e.next=5,new Blob([n]).arrayBuffer();case 5:return r=e.sent,e.next=8,k.convertToHtml({arrayBuffer:r});case 8:return o=e.sent,e.abrupt("return",{docS3Bytes:n,documentContent:o});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,l.A)(d().mark((function e(t,n){var r,o,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Z(t.value,n),e.next=3,Promise.all(r.map((function(e){return A(e)})));case 3:return o=e.sent,a=Object.assign.apply(Object,[{}].concat((0,j.A)(o))),e.abrupt("return",Q(Q({},n),a));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(){var e=(0,l.A)(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,n);case 2:return r=e.sent,e.abrupt("return",new Blob([r],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=(0,l.A)(d().mark((function e(){var o,a,i,c,s,l,u,p;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,o=W(n,r),e.next=5,q(t);case 5:return a=e.sent,i=a.docS3Bytes,c=a.documentContent,e.next=10,z(c,o);case 10:return s=e.sent,e.next=13,B(i,s);case 13:return l=e.sent,C(l),e.next=17,l.arrayBuffer();case 17:return u=e.sent,e.next=20,k.convertToHtml({arrayBuffer:u});case 20:p=e.sent,m(p.value),g(!0),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(1),I("Došlo je do greške prilikom preuzimanja dokumenta. Molimo vas pokušajte opet.",5e3,"error");case 28:return e.prev=28,D(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[1,25,28,31]])})));return function(){return e.apply(this,arguments)}}();return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(ee,{children:[(0,O.jsx)(ne,{onClick:function(){S("/documents")},children:"Nazad"}),(0,O.jsx)(te,{onClick:T,disabled:P,children:P?(0,O.jsx)(w.A,{size:20,color:"inherit"}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(re,{}),"Pregledaj dokument"]})})]}),x&&(0,O.jsx)(E,{docContent:p,handleDownload:function(){if(b){var e="".concat(c,".docx");!function(e,t){J.apply(this,arguments)}(b,e)}},closeModal:function(){g(!1)},isLoading:P})]})};var ae=n(36898),ie=c.Ay.div.withConfig({displayName:"PlaceholderCard__CardContainer",componentId:"sc-1mt16eg-0"})(["width:400px;height:450px;border:2px dashed ",";border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;cursor:pointer;position:relative;transition:background-color 0.3s ease,transform 0.2s ease;&:hover{background-color:",";transform:scale(1.05);}"],(function(e){return e.theme.palette.grey[400]}),(function(e){return e.theme.palette.grey[900]})),ce=c.Ay.div.withConfig({displayName:"PlaceholderCard__IconContainer",componentId:"sc-1mt16eg-1"})(["position:relative;width:50px;height:50px;& > .old-icon{position:absolute;top:0;left:0;right:0;bottom:0;transition:opacity 0.3s ease,transform 0.3s ease;opacity:1;transform:scale(1);fill:",";}& > .new-icon{position:absolute;top:0;left:0;right:0;bottom:0;transition:opacity 0.3s ease,transform 0.3s ease;opacity:0;transform:scale(0.8);fill:",";}",":hover & > .old-icon{opacity:0;transform:scale(0.8);}",":hover & > .new-icon{opacity:1;transform:scale(1);}"],(function(e){return e.theme.palette.grey[500]}),(function(e){return e.theme.palette.grey[500]}),ie,ie),se=c.Ay.div.withConfig({displayName:"PlaceholderCard__PlaceholderText",componentId:"sc-1mt16eg-2"})(["font-size:1rem;font-weight:bold;color:",";"],(function(e){return e.theme.palette.text.secondary}));const le=function(e){var t=e.icon,n=e.name,r=e.onClick,o=e.loading;return(0,O.jsx)(ie,{onClick:r,children:o?(0,O.jsx)(ae.A,{}):(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(ce,{children:[(0,O.jsx)(t,{className:"old-icon"}),(0,O.jsx)(_.Yt,{className:"new-icon"})]}),(0,O.jsx)(se,{children:n})]})})};var ue=n(11641),de=c.Ay.div.withConfig({displayName:"IDCard__CardContainer",componentId:"sc-rpcdnq-0"})(["width:400px;height:100%;padding:20px;border-radius:4px;background-color:",";border:1px solid ",';display:flex;flex-direction:column;gap:16px;font-family:"Arial",sans-serif;'],(function(e){return e.theme.palette.lightGrey[700]}),(function(e){return e.theme.palette.grey[700]})),pe=c.Ay.div.withConfig({displayName:"IDCard__Header",componentId:"sc-rpcdnq-1"})(["display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid ",";padding-bottom:16px;"],(function(e){return e.theme.palette.grey[500]})),me=c.Ay.div.withConfig({displayName:"IDCard__ProfileIcon",componentId:"sc-rpcdnq-2"})(["width:80px;height:80px;& > svg{width:100%;height:100%;fill:",";}"],(function(e){return e.theme.palette.grey[400]})),fe=c.Ay.div.withConfig({displayName:"IDCard__DocumentType",componentId:"sc-rpcdnq-3"})(["font-size:1.5rem;font-weight:bold;color:",";"],(function(e){return e.theme.palette.grey[500]})),he=(0,c.Ay)(ue.A).withConfig({displayName:"IDCard__StyledIconButton",componentId:"sc-rpcdnq-4"})(["position:relative;top:-32px;right:-16px;color:",";&:hover{color:",";}"],(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.error.dark})),xe=c.Ay.div.withConfig({displayName:"IDCard__AddressContainer",componentId:"sc-rpcdnq-5"})(["background-color:",";padding:12px;border-radius:8px;font-size:0.9rem;"],(function(e){return e.theme.palette.grey[900]})),ge=(0,c.Ay)((function(e){var t=e.label,n=e.value,r=e.className;return(0,O.jsxs)("div",{className:r,children:[(0,O.jsxs)("span",{children:[t,":"]}),(0,O.jsx)("span",{children:n})]})})).withConfig({displayName:"IDCard__Row",componentId:"sc-rpcdnq-6"})(["display:flex;justify-content:space-between;font-size:1rem;color:",";span:first-child{font-weight:bold;color:",";}"],(function(e){return e.theme.palette.text.primary}),(function(e){return e.theme.palette.text.secondary})),ye=(0,c.Ay)((function(e){var t=e.label,n=e.value,r=e.className;return(0,O.jsxs)("div",{className:r,children:[(0,O.jsxs)("span",{children:[t,":"]}),(0,O.jsx)("span",{children:n})]})})).withConfig({displayName:"IDCard__AdressRow",componentId:"sc-rpcdnq-7"})(["display:flex;flex-direction:column;justify-content:space-between;font-size:1rem;color:",";span:first-child{font-weight:bold;color:",";}"],(function(e){return e.theme.palette.text.primary}),(function(e){return e.theme.palette.text.secondary}));const ve=function(e){var t=e.data,n=e.onRemove,r=e.order;if(!t)return null;var o=function(e){return"".concat(e,"_").concat(r)},a="M"===t[o("Sex")];return(0,O.jsxs)(de,{children:[(0,O.jsxs)(pe,{children:[(0,O.jsx)(me,{children:a?(0,O.jsx)(_.KX,{}):(0,O.jsx)(_.GT,{})}),(0,O.jsx)(fe,{children:t[o("DocumentType")]||"Lična karta"}),(0,O.jsx)(he,{onClick:n,"aria-label":"Delete",children:(0,O.jsx)(_.u3,{})})]}),(0,O.jsx)(ge,{label:"Broj lične karte",value:t[o("DocumentNumber")]}),(0,O.jsx)(ge,{label:"Ime i prezime",value:"".concat(t[o("GivenName")]," ").concat(t[o("Surname")])}),(0,O.jsx)(ge,{label:"Datum rođenja",value:t[o("DateOfBirth")]}),(0,O.jsx)(ge,{label:"Mesto rođenja",value:t[o("PlaceOfBirth")]}),(0,O.jsx)(ge,{label:"JMBG",value:t[o("PersonalNumber")]}),(0,O.jsx)(xe,{children:(0,O.jsx)(ye,{label:"Adresa prebivališta",value:"".concat(t[o("Street")]," ").concat(t[o("AddressNumber")]," ").concat(t[o("Place")])})})]})};var be=c.Ay.div.withConfig({displayName:"VehicleCardID__CardContainer",componentId:"sc-18v89xd-0"})(["width:400px;height:100%;padding:20px;border-radius:4px;background-color:",";border:1px solid ",';display:flex;flex-direction:column;gap:16px;font-family:"Arial",sans-serif;'],(function(e){return e.theme.palette.lightGrey[700]}),(function(e){return e.theme.palette.grey[700]})),je=c.Ay.div.withConfig({displayName:"VehicleCardID__Header",componentId:"sc-18v89xd-1"})(["display:flex;align-items:center;justify-content:space-between;border-bottom:2px solid ",";padding-bottom:16px;"],(function(e){return e.theme.palette.grey[500]})),we=c.Ay.div.withConfig({displayName:"VehicleCardID__ProfileIcon",componentId:"sc-18v89xd-2"})(["width:80px;height:80px;& > svg{width:100%;height:100%;fill:",";}"],(function(e){return e.theme.palette.grey[400]})),ke=c.Ay.div.withConfig({displayName:"VehicleCardID__DocumentType",componentId:"sc-18v89xd-3"})(["font-size:1.5rem;font-weight:bold;color:",";"],(function(e){return e.theme.palette.grey[500]})),Ce=(0,c.Ay)(ue.A).withConfig({displayName:"VehicleCardID__StyledIconButton",componentId:"sc-18v89xd-4"})(["position:relative;top:-32px;right:-16px;color:",";&:hover{color:",";}"],(function(e){return e.theme.palette.error.main}),(function(e){return e.theme.palette.error.dark})),Ae=(0,c.Ay)((function(e){var t=e.label,n=e.value,r=e.className;return(0,O.jsxs)("div",{className:r,children:[(0,O.jsxs)("span",{children:[t,":"]}),(0,O.jsx)("span",{children:n})]})})).withConfig({displayName:"VehicleCardID__InfoRow",componentId:"sc-18v89xd-5"})(["display:flex;justify-content:space-between;font-size:1rem;color:",";span:first-child{font-weight:bold;color:",";}"],(function(e){return e.theme.palette.text.primary}),(function(e){return e.theme.palette.text.secondary})),_e=c.Ay.div.withConfig({displayName:"VehicleCardID__VehicleDetailsContainer",componentId:"sc-18v89xd-6"})(["background-color:",";padding:12px;border-radius:8px;font-size:0.9rem;display:flex;flex-direction:column;gap:8px;"],(function(e){return e.theme.palette.grey[900]})),Oe=(0,c.Ay)((function(e){var t=e.label,n=e.value,r=e.className;return(0,O.jsxs)("div",{className:r,children:[(0,O.jsxs)("span",{children:[t,":"]}),(0,O.jsx)("span",{children:n})]})})).withConfig({displayName:"VehicleCardID__OwnerRow",componentId:"sc-18v89xd-7"})(["display:flex;flex-direction:column;justify-content:space-between;font-size:1rem;color:",";span:first-child{font-weight:bold;color:",";}"],(function(e){return e.theme.palette.text.primary}),(function(e){return e.theme.palette.text.secondary}));const Ne=function(e){var t=e.data,n=e.onRemove,r=e.order,o=function(e){return"".concat(e,"_").concat(r)};return t?(0,O.jsxs)(be,{children:[(0,O.jsxs)(je,{children:[(0,O.jsx)(we,{children:(0,O.jsx)(_.T1,{})}),(0,O.jsx)(ke,{children:"Saobraćajna dozvola"}),(0,O.jsx)(Ce,{onClick:n,"aria-label":"Delete",children:(0,O.jsx)(_.u3,{})})]}),(0,O.jsx)(Ae,{label:"Broj registracije",value:t[o("RegistrationNumberOfVehicle")]||"N/A"}),(0,O.jsx)(Ae,{label:"Tip vozila",value:t[o("VehicleCategory")]||"N/A"}),(0,O.jsx)(Ae,{label:"Proizvođač",value:t[o("VehicleMake")]||"N/A"}),(0,O.jsx)(Ae,{label:"Model",value:t[o("CommercialDescription")]||"N/A"}),(0,O.jsx)(Ae,{label:"Godina proizvodnje",value:t[o("YearOfProduction")]||"N/A"}),(0,O.jsx)(Ae,{label:"Zapremina motora",value:t[o("EngineCapacity")]||"N/A"}),(0,O.jsxs)(_e,{children:[(0,O.jsx)(Oe,{label:"Vlasnik",value:"".concat(t[o("OwnersSurnameOrBusinessName")]||"N/A"," ").concat(t[o("OwnerName")]||"")}),(0,O.jsx)(Oe,{label:"Adresa",value:t[o("OwnerAddress")]||"N/A"})]})]}):null};const Pe=function(e){var t=e.type,n=e.data,r=e.onClick,o=e.name,a=e.onRemove,i=e.order,c=e.requiredFieldsMap,s=e.loading;return function(e,t,n){var r,o=null===(r=c[e])||void 0===r?void 0:r.map((function(e){return"".concat(e,"_").concat(n)}));return!(!o||!t)&&o.every((function(e){return t[e]}))}(t,n,i)?(0,O.jsx)("div",{children:"saobracajna_dozvola"===t?(0,O.jsx)(Ne,{data:n,onRemove:a,order:i}):(0,O.jsx)(ve,{data:n,onRemove:a,order:i})}):(0,O.jsx)(le,{icon:"licna_karta"===t?_.R_:_.T1,name:o,onClick:r,loading:s})};var De=n(40916);const Ie=function(e){var t=(0,a.useState)(!1),n=(0,o.A)(t,2),r=n[0],i=n[1],c=(0,a.useState)(null),s=(0,o.A)(c,2),u=s[0],p=s[1],m=(0,a.useState)(null),f=(0,o.A)(m,2),h=f[0],x=f[1],g=(0,a.useCallback)((0,l.A)(d().mark((function t(){var n,r=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),x(null),t.prev=2,t.next=5,e.apply(void 0,r);case 5:n=t.sent,p(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),x(t.t0);case 12:return t.prev=12,i(!1),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])}))),[e]);return[g,{loading:r,data:u,error:h,resetData:function(){p(null)}}]};var Se=n(14964);function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be=c.Ay.div.withConfig({displayName:"GenerateDocumentPage__CreateContainer",componentId:"sc-1kqabb6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:flex-start;height:100%;text-align:center;gap:16px;padding:20px;background-color:",";color:",";"],(function(e){return e.theme.palette.background.default}),(function(e){return e.theme.palette.text.primary})),Te=c.Ay.h1.withConfig({displayName:"GenerateDocumentPage__Title",componentId:"sc-1kqabb6-1"})(["font-size:2rem;font-weight:bold;color:",";text-align:left;width:100%;"],(function(e){return e.theme.palette.primary.main})),Re=c.Ay.div.withConfig({displayName:"GenerateDocumentPage__Header",componentId:"sc-1kqabb6-2"})(["width:100%;display:flex;justify-content:space-between;align-items:center;padding-bottom:16px;border-bottom:1px solid ",";"],(function(e){return e.theme.palette.grey[900]})),Me=c.Ay.h2.withConfig({displayName:"GenerateDocumentPage__SubTitle",componentId:"sc-1kqabb6-3"})(["font-size:1.5rem;font-weight:bold;color:",";text-align:left;width:100%;margin-bottom:8px;"],(function(e){return e.theme.palette.text.secondary})),Ee=c.Ay.div.withConfig({displayName:"GenerateDocumentPage__SubTitleContainer",componentId:"sc-1kqabb6-4"})(["width:100%;margin-bottom:24px;"]),Ge=c.Ay.div.withConfig({displayName:"GenerateDocumentPage__PlaceholderContainer",componentId:"sc-1kqabb6-5"})(["display:flex;flex-wrap:wrap;justify-content:space-evenly;gap:24px;width:100%;"]),Ve=c.Ay.div.withConfig({displayName:"GenerateDocumentPage__StateContainerWrapper",componentId:"sc-1kqabb6-6"})(["display:flex;align-items:center;justify-content:center;height:100%;"]);const Le=function(){var e,t=(0,i.g)().id,n=(0,i.g)().name,r=(0,G.h)(),c=(0,a.useCallback)((function(){return f(t)}),[t]),l=(0,a.useState)({}),u=(0,o.A)(l,2),d=u[0],p=u[1],m=(0,a.useState)(null),h=(0,o.A)(m,2),x=(h[0],h[1]),g=(0,a.useState)(null),y=(0,o.A)(g,2),v=y[0],j=y[1],w=Ie(b),k=(0,o.A)(w,2),C=k[0],A=k[1],_=A.data,N=A.error,P=A.loading,D=A.resetData,I=(0,De.A)(c),S=I.data,q=I.loading,z=I.error;return(0,a.useEffect)((function(){z&&r("Neuspešno učitavanje ugovora. Molimo vas pokušajte opet.",5e3,"error")}),[z]),(0,a.useEffect)((function(){N&&r("Neuspešno učitavanje dokumenta. Molimo vas pokušajte opet ili ubacite dokument u citac kartica.",5e3,"error")}),[N]),(0,a.useEffect)((function(){if(_&&v){var e={};Object.keys(_).forEach((function(t){e["".concat(t,"_").concat(v)]=_[t]})),p((function(t){return ze(ze({},t),e)})),D()}}),[_,v]),z?(0,O.jsx)(Ve,{children:(0,O.jsx)(Se.A,{message:"Neuspešno učitavanje ugovora."})}):q?(0,O.jsx)(Ve,{children:(0,O.jsx)(ae.A,{})}):(0,O.jsxs)(Be,{children:[(0,O.jsxs)(Re,{children:[(0,O.jsx)(Te,{children:n}),(0,O.jsx)(oe,{readFields:d,templateURL:S.body.document_url_docx,letterType:S.body.letter,documentName:S.body.name})]}),(0,O.jsx)(Ee,{children:(0,O.jsx)(Me,{children:"Učitaj neophodna dokumenta"})}),(0,O.jsx)(Ge,{children:null===(e=S.body.needed_cards)||void 0===e?void 0:e.map((function(e){return(0,O.jsx)(Pe,{type:e.type,name:e.name,order:e.order,onClick:function(){return t=e.type,n=e.order,x(t),j(n),void C();var t,n},onRemove:function(){return e.type,t=e.order,void p((function(e){var n=ze({},e);return Object.keys(n).forEach((function(e){e.endsWith("_".concat(t))&&delete n[e]})),n}));var t},data:d,loading:P,requiredFieldsMap:s},e.order)}))})]})}},14964:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);var r=n(38267),o=n(81863),a=n(74848),i=r.Ay.div.withConfig({displayName:"ErrorHandler__ErrorContainer",componentId:"sc-11z4tnk-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:12px;padding:24px;color:",";border-radius:8px;max-width:400px;height:150px;margin:auto auto;"],(function(e){return e.theme.palette.grey[700]})),c=r.Ay.div.withConfig({displayName:"ErrorHandler__ErrorMessage",componentId:"sc-11z4tnk-1"})(["font-size:1.2rem;font-weight:bold;"]),s=(0,r.Ay)(o.id).withConfig({displayName:"ErrorHandler__StyledErrorIcon",componentId:"sc-11z4tnk-2"})(["height:48px;fill:",";"],(function(e){return e.theme.palette.grey[700]}));const l=function(e){var t=e.message,n=void 0===t?"Došlo je do greške":t;return(0,a.jsxs)(i,{children:[(0,a.jsx)(s,{}),(0,a.jsx)(c,{children:n})]})}}}]);